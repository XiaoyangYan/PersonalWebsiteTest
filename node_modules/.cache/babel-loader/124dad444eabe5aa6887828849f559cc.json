{"ast":null,"code":"/**\r\n * node-compress-commons\r\n *\r\n * Copyright (c) 2014 Chris Talkington, contributors.\r\n * Licensed under the MIT license.\r\n * https://github.com/archiverjs/node-compress-commons/blob/master/LICENSE-MIT\r\n */\nvar Stream = require('stream').Stream;\n\nvar PassThrough = require('readable-stream').PassThrough;\n\nvar util = module.exports = {};\n\nutil.isStream = function (source) {\n  return source instanceof Stream;\n};\n\nutil.normalizeInputSource = function (source) {\n  if (source === null) {\n    return Buffer.alloc(0);\n  } else if (typeof source === 'string') {\n    return Buffer.from(source);\n  } else if (util.isStream(source) && !source._readableState) {\n    var normalized = new PassThrough();\n    source.pipe(normalized);\n    return normalized;\n  }\n\n  return source;\n};","map":{"version":3,"sources":["/home/yanxiaoyang/react-project/PersonalWebsiteTest/node_modules/compress-commons/lib/util/index.js"],"names":["Stream","require","PassThrough","util","module","exports","isStream","source","normalizeInputSource","Buffer","alloc","from","_readableState","normalized","pipe"],"mappings":"AAAA;;;;;;;AAOA,IAAIA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAP,CAAkBD,MAA/B;;AACA,IAAIE,WAAW,GAAGD,OAAO,CAAC,iBAAD,CAAP,CAA2BC,WAA7C;;AAEA,IAAIC,IAAI,GAAGC,MAAM,CAACC,OAAP,GAAiB,EAA5B;;AAEAF,IAAI,CAACG,QAAL,GAAgB,UAASC,MAAT,EAAiB;AAC/B,SAAOA,MAAM,YAAYP,MAAzB;AACD,CAFD;;AAIAG,IAAI,CAACK,oBAAL,GAA4B,UAASD,MAAT,EAAiB;AAC3C,MAAIA,MAAM,KAAK,IAAf,EAAqB;AACnB,WAAOE,MAAM,CAACC,KAAP,CAAa,CAAb,CAAP;AACD,GAFD,MAEO,IAAI,OAAOH,MAAP,KAAkB,QAAtB,EAAgC;AACrC,WAAOE,MAAM,CAACE,IAAP,CAAYJ,MAAZ,CAAP;AACD,GAFM,MAEA,IAAIJ,IAAI,CAACG,QAAL,CAAcC,MAAd,KAAyB,CAACA,MAAM,CAACK,cAArC,EAAqD;AAC1D,QAAIC,UAAU,GAAG,IAAIX,WAAJ,EAAjB;AACAK,IAAAA,MAAM,CAACO,IAAP,CAAYD,UAAZ;AAEA,WAAOA,UAAP;AACD;;AAED,SAAON,MAAP;AACD,CAbD","sourcesContent":["/**\r\n * node-compress-commons\r\n *\r\n * Copyright (c) 2014 Chris Talkington, contributors.\r\n * Licensed under the MIT license.\r\n * https://github.com/archiverjs/node-compress-commons/blob/master/LICENSE-MIT\r\n */\r\nvar Stream = require('stream').Stream;\r\nvar PassThrough = require('readable-stream').PassThrough;\r\n\r\nvar util = module.exports = {};\r\n\r\nutil.isStream = function(source) {\r\n  return source instanceof Stream;\r\n};\r\n\r\nutil.normalizeInputSource = function(source) {\r\n  if (source === null) {\r\n    return Buffer.alloc(0);\r\n  } else if (typeof source === 'string') {\r\n    return Buffer.from(source);\r\n  } else if (util.isStream(source) && !source._readableState) {\r\n    var normalized = new PassThrough();\r\n    source.pipe(normalized);\r\n\r\n    return normalized;\r\n  }\r\n\r\n  return source;\r\n};"]},"metadata":{},"sourceType":"script"}