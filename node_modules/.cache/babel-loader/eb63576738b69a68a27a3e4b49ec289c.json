{"ast":null,"code":"var Readable = require('readable-stream').Readable;\n\nmodule.exports = function (stream) {\n  var opts = stream._readableState;\n\n  if (typeof stream.read !== 'function') {\n    stream = new Readable(opts).wrap(stream);\n  }\n\n  var ro = new Readable({\n    objectMode: opts && opts.objectMode\n  });\n  var waiting = false;\n  stream.on('readable', function () {\n    if (waiting) {\n      waiting = false;\n\n      ro._read();\n    }\n  });\n\n  ro._read = function () {\n    var buf,\n        reads = 0;\n\n    while ((buf = stream.read()) !== null) {\n      ro.push(buf);\n      reads++;\n    }\n\n    if (reads === 0) waiting = true;\n  };\n\n  stream.once('end', function () {\n    ro.push(null);\n  });\n  stream.on('error', function (err) {\n    ro.emit('error', err);\n  });\n  return ro;\n};","map":{"version":3,"sources":["/home/yanxiaoyang/react-project/PersonalWebsiteTest/node_modules/read-only-stream/index.js"],"names":["Readable","require","module","exports","stream","opts","_readableState","read","wrap","ro","objectMode","waiting","on","_read","buf","reads","push","once","err","emit"],"mappings":"AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,iBAAD,CAAP,CAA2BD,QAA1C;;AAEAE,MAAM,CAACC,OAAP,GAAiB,UAAUC,MAAV,EAAkB;AAC/B,MAAIC,IAAI,GAAGD,MAAM,CAACE,cAAlB;;AACA,MAAI,OAAOF,MAAM,CAACG,IAAd,KAAuB,UAA3B,EAAuC;AACnCH,IAAAA,MAAM,GAAG,IAAIJ,QAAJ,CAAaK,IAAb,EAAmBG,IAAnB,CAAwBJ,MAAxB,CAAT;AACH;;AAED,MAAIK,EAAE,GAAG,IAAIT,QAAJ,CAAa;AAAEU,IAAAA,UAAU,EAAEL,IAAI,IAAIA,IAAI,CAACK;AAA3B,GAAb,CAAT;AACA,MAAIC,OAAO,GAAG,KAAd;AAEAP,EAAAA,MAAM,CAACQ,EAAP,CAAU,UAAV,EAAsB,YAAY;AAC9B,QAAID,OAAJ,EAAa;AACTA,MAAAA,OAAO,GAAG,KAAV;;AACAF,MAAAA,EAAE,CAACI,KAAH;AACH;AACJ,GALD;;AAOAJ,EAAAA,EAAE,CAACI,KAAH,GAAW,YAAY;AACnB,QAAIC,GAAJ;AAAA,QAASC,KAAK,GAAG,CAAjB;;AACA,WAAO,CAACD,GAAG,GAAGV,MAAM,CAACG,IAAP,EAAP,MAA0B,IAAjC,EAAuC;AACnCE,MAAAA,EAAE,CAACO,IAAH,CAAQF,GAAR;AACAC,MAAAA,KAAK;AACR;;AACD,QAAIA,KAAK,KAAK,CAAd,EAAiBJ,OAAO,GAAG,IAAV;AACpB,GAPD;;AAQAP,EAAAA,MAAM,CAACa,IAAP,CAAY,KAAZ,EAAmB,YAAY;AAAER,IAAAA,EAAE,CAACO,IAAH,CAAQ,IAAR;AAAe,GAAhD;AACAZ,EAAAA,MAAM,CAACQ,EAAP,CAAU,OAAV,EAAmB,UAAUM,GAAV,EAAe;AAAET,IAAAA,EAAE,CAACU,IAAH,CAAQ,OAAR,EAAiBD,GAAjB;AAAuB,GAA3D;AACA,SAAOT,EAAP;AACH,CA3BD","sourcesContent":["var Readable = require('readable-stream').Readable;\n\nmodule.exports = function (stream) {\n    var opts = stream._readableState;\n    if (typeof stream.read !== 'function') {\n        stream = new Readable(opts).wrap(stream);\n    }\n    \n    var ro = new Readable({ objectMode: opts && opts.objectMode });\n    var waiting = false;\n    \n    stream.on('readable', function () {\n        if (waiting) {\n            waiting = false;\n            ro._read();\n        }\n    });\n    \n    ro._read = function () {\n        var buf, reads = 0;\n        while ((buf = stream.read()) !== null) {\n            ro.push(buf);\n            reads ++;\n        }\n        if (reads === 0) waiting = true;\n    };\n    stream.once('end', function () { ro.push(null) });\n    stream.on('error', function (err) { ro.emit('error', err) });\n    return ro;\n};\n"]},"metadata":{},"sourceType":"script"}