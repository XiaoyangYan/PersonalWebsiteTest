{"ast":null,"code":"module.exports = function (args, opts) {\n  if (!opts) opts = {};\n  var flags = {\n    bools: {},\n    strings: {},\n    unknownFn: null\n  };\n\n  if (typeof opts['unknown'] === 'function') {\n    flags.unknownFn = opts['unknown'];\n  }\n\n  if (typeof opts['boolean'] === 'boolean' && opts['boolean']) {\n    flags.allBools = true;\n  } else {\n    [].concat(opts['boolean']).filter(Boolean).forEach(function (key) {\n      flags.bools[key] = true;\n    });\n  }\n\n  var aliases = {};\n  Object.keys(opts.alias || {}).forEach(function (key) {\n    aliases[key] = [].concat(opts.alias[key]);\n    aliases[key].forEach(function (x) {\n      aliases[x] = [key].concat(aliases[key].filter(function (y) {\n        return x !== y;\n      }));\n    });\n  });\n  [].concat(opts.string).filter(Boolean).forEach(function (key) {\n    flags.strings[key] = true;\n\n    if (aliases[key]) {\n      flags.strings[aliases[key]] = true;\n    }\n  });\n  var defaults = opts['default'] || {};\n  var argv = {\n    _: []\n  };\n  Object.keys(flags.bools).forEach(function (key) {\n    setArg(key, defaults[key] === undefined ? false : defaults[key]);\n  });\n  var notFlags = [];\n\n  if (args.indexOf('--') !== -1) {\n    notFlags = args.slice(args.indexOf('--') + 1);\n    args = args.slice(0, args.indexOf('--'));\n  }\n\n  function argDefined(key, arg) {\n    return flags.allBools && /^--[^=]+$/.test(arg) || flags.strings[key] || flags.bools[key] || aliases[key];\n  }\n\n  function setArg(key, val, arg) {\n    if (arg && flags.unknownFn && !argDefined(key, arg)) {\n      if (flags.unknownFn(arg) === false) return;\n    }\n\n    var value = !flags.strings[key] && isNumber(val) ? Number(val) : val;\n    setKey(argv, key.split('.'), value);\n    (aliases[key] || []).forEach(function (x) {\n      setKey(argv, x.split('.'), value);\n    });\n  }\n\n  function setKey(obj, keys, value) {\n    var o = obj;\n    keys.slice(0, -1).forEach(function (key) {\n      if (o[key] === undefined) o[key] = {};\n      o = o[key];\n    });\n    var key = keys[keys.length - 1];\n\n    if (o[key] === undefined || flags.bools[key] || typeof o[key] === 'boolean') {\n      o[key] = value;\n    } else if (Array.isArray(o[key])) {\n      o[key].push(value);\n    } else {\n      o[key] = [o[key], value];\n    }\n  }\n\n  function aliasIsBoolean(key) {\n    return aliases[key].some(function (x) {\n      return flags.bools[x];\n    });\n  }\n\n  for (var i = 0; i < args.length; i++) {\n    var arg = args[i];\n\n    if (/^--.+=/.test(arg)) {\n      // Using [\\s\\S] instead of . because js doesn't support the\n      // 'dotall' regex modifier. See:\n      // http://stackoverflow.com/a/1068308/13216\n      var m = arg.match(/^--([^=]+)=([\\s\\S]*)$/);\n      var key = m[1];\n      var value = m[2];\n\n      if (flags.bools[key]) {\n        value = value !== 'false';\n      }\n\n      setArg(key, value, arg);\n    } else if (/^--no-.+/.test(arg)) {\n      var key = arg.match(/^--no-(.+)/)[1];\n      setArg(key, false, arg);\n    } else if (/^--.+/.test(arg)) {\n      var key = arg.match(/^--(.+)/)[1];\n      var next = args[i + 1];\n\n      if (next !== undefined && !/^-/.test(next) && !flags.bools[key] && !flags.allBools && (aliases[key] ? !aliasIsBoolean(key) : true)) {\n        setArg(key, next, arg);\n        i++;\n      } else if (/^(true|false)$/.test(next)) {\n        setArg(key, next === 'true', arg);\n        i++;\n      } else {\n        setArg(key, flags.strings[key] ? '' : true, arg);\n      }\n    } else if (/^-[^-]+/.test(arg)) {\n      var letters = arg.slice(1, -1).split('');\n      var broken = false;\n\n      for (var j = 0; j < letters.length; j++) {\n        var next = arg.slice(j + 2);\n\n        if (next === '-') {\n          setArg(letters[j], next, arg);\n          continue;\n        }\n\n        if (/[A-Za-z]/.test(letters[j]) && /=/.test(next)) {\n          setArg(letters[j], next.split('=')[1], arg);\n          broken = true;\n          break;\n        }\n\n        if (/[A-Za-z]/.test(letters[j]) && /-?\\d+(\\.\\d*)?(e-?\\d+)?$/.test(next)) {\n          setArg(letters[j], next, arg);\n          broken = true;\n          break;\n        }\n\n        if (letters[j + 1] && letters[j + 1].match(/\\W/)) {\n          setArg(letters[j], arg.slice(j + 2), arg);\n          broken = true;\n          break;\n        } else {\n          setArg(letters[j], flags.strings[letters[j]] ? '' : true, arg);\n        }\n      }\n\n      var key = arg.slice(-1)[0];\n\n      if (!broken && key !== '-') {\n        if (args[i + 1] && !/^(-|--)[^-]/.test(args[i + 1]) && !flags.bools[key] && (aliases[key] ? !aliasIsBoolean(key) : true)) {\n          setArg(key, args[i + 1], arg);\n          i++;\n        } else if (args[i + 1] && /true|false/.test(args[i + 1])) {\n          setArg(key, args[i + 1] === 'true', arg);\n          i++;\n        } else {\n          setArg(key, flags.strings[key] ? '' : true, arg);\n        }\n      }\n    } else {\n      if (!flags.unknownFn || flags.unknownFn(arg) !== false) {\n        argv._.push(flags.strings['_'] || !isNumber(arg) ? arg : Number(arg));\n      }\n\n      if (opts.stopEarly) {\n        argv._.push.apply(argv._, args.slice(i + 1));\n\n        break;\n      }\n    }\n  }\n\n  Object.keys(defaults).forEach(function (key) {\n    if (!hasKey(argv, key.split('.'))) {\n      setKey(argv, key.split('.'), defaults[key]);\n      (aliases[key] || []).forEach(function (x) {\n        setKey(argv, x.split('.'), defaults[key]);\n      });\n    }\n  });\n\n  if (opts['--']) {\n    argv['--'] = new Array();\n    notFlags.forEach(function (key) {\n      argv['--'].push(key);\n    });\n  } else {\n    notFlags.forEach(function (key) {\n      argv._.push(key);\n    });\n  }\n\n  return argv;\n};\n\nfunction hasKey(obj, keys) {\n  var o = obj;\n  keys.slice(0, -1).forEach(function (key) {\n    o = o[key] || {};\n  });\n  var key = keys[keys.length - 1];\n  return key in o;\n}\n\nfunction isNumber(x) {\n  if (typeof x === 'number') return true;\n  if (/^0x[0-9a-f]+$/i.test(x)) return true;\n  return /^[-+]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(e[-+]?\\d+)?$/.test(x);\n}","map":{"version":3,"sources":["/home/yanxiaoyang/react-project/PersonalWebsiteTest/node_modules/minimist/index.js"],"names":["module","exports","args","opts","flags","bools","strings","unknownFn","allBools","concat","filter","Boolean","forEach","key","aliases","Object","keys","alias","x","y","string","defaults","argv","_","setArg","undefined","notFlags","indexOf","slice","argDefined","arg","test","val","value","isNumber","Number","setKey","split","obj","o","length","Array","isArray","push","aliasIsBoolean","some","i","m","match","next","letters","broken","j","stopEarly","apply","hasKey"],"mappings":"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","sourcesContent":["module.exports = function (args, opts) {\n    if (!opts) opts = {};\n    \n    var flags = { bools : {}, strings : {}, unknownFn: null };\n\n    if (typeof opts['unknown'] === 'function') {\n        flags.unknownFn = opts['unknown'];\n    }\n\n    if (typeof opts['boolean'] === 'boolean' && opts['boolean']) {\n      flags.allBools = true;\n    } else {\n      [].concat(opts['boolean']).filter(Boolean).forEach(function (key) {\n          flags.bools[key] = true;\n      });\n    }\n    \n    var aliases = {};\n    Object.keys(opts.alias || {}).forEach(function (key) {\n        aliases[key] = [].concat(opts.alias[key]);\n        aliases[key].forEach(function (x) {\n            aliases[x] = [key].concat(aliases[key].filter(function (y) {\n                return x !== y;\n            }));\n        });\n    });\n\n    [].concat(opts.string).filter(Boolean).forEach(function (key) {\n        flags.strings[key] = true;\n        if (aliases[key]) {\n            flags.strings[aliases[key]] = true;\n        }\n     });\n\n    var defaults = opts['default'] || {};\n    \n    var argv = { _ : [] };\n    Object.keys(flags.bools).forEach(function (key) {\n        setArg(key, defaults[key] === undefined ? false : defaults[key]);\n    });\n    \n    var notFlags = [];\n\n    if (args.indexOf('--') !== -1) {\n        notFlags = args.slice(args.indexOf('--')+1);\n        args = args.slice(0, args.indexOf('--'));\n    }\n\n    function argDefined(key, arg) {\n        return (flags.allBools && /^--[^=]+$/.test(arg)) ||\n            flags.strings[key] || flags.bools[key] || aliases[key];\n    }\n\n    function setArg (key, val, arg) {\n        if (arg && flags.unknownFn && !argDefined(key, arg)) {\n            if (flags.unknownFn(arg) === false) return;\n        }\n\n        var value = !flags.strings[key] && isNumber(val)\n            ? Number(val) : val\n        ;\n        setKey(argv, key.split('.'), value);\n        \n        (aliases[key] || []).forEach(function (x) {\n            setKey(argv, x.split('.'), value);\n        });\n    }\n\n    function setKey (obj, keys, value) {\n        var o = obj;\n        keys.slice(0,-1).forEach(function (key) {\n            if (o[key] === undefined) o[key] = {};\n            o = o[key];\n        });\n\n        var key = keys[keys.length - 1];\n        if (o[key] === undefined || flags.bools[key] || typeof o[key] === 'boolean') {\n            o[key] = value;\n        }\n        else if (Array.isArray(o[key])) {\n            o[key].push(value);\n        }\n        else {\n            o[key] = [ o[key], value ];\n        }\n    }\n    \n    function aliasIsBoolean(key) {\n      return aliases[key].some(function (x) {\n          return flags.bools[x];\n      });\n    }\n\n    for (var i = 0; i < args.length; i++) {\n        var arg = args[i];\n        \n        if (/^--.+=/.test(arg)) {\n            // Using [\\s\\S] instead of . because js doesn't support the\n            // 'dotall' regex modifier. See:\n            // http://stackoverflow.com/a/1068308/13216\n            var m = arg.match(/^--([^=]+)=([\\s\\S]*)$/);\n            var key = m[1];\n            var value = m[2];\n            if (flags.bools[key]) {\n                value = value !== 'false';\n            }\n            setArg(key, value, arg);\n        }\n        else if (/^--no-.+/.test(arg)) {\n            var key = arg.match(/^--no-(.+)/)[1];\n            setArg(key, false, arg);\n        }\n        else if (/^--.+/.test(arg)) {\n            var key = arg.match(/^--(.+)/)[1];\n            var next = args[i + 1];\n            if (next !== undefined && !/^-/.test(next)\n            && !flags.bools[key]\n            && !flags.allBools\n            && (aliases[key] ? !aliasIsBoolean(key) : true)) {\n                setArg(key, next, arg);\n                i++;\n            }\n            else if (/^(true|false)$/.test(next)) {\n                setArg(key, next === 'true', arg);\n                i++;\n            }\n            else {\n                setArg(key, flags.strings[key] ? '' : true, arg);\n            }\n        }\n        else if (/^-[^-]+/.test(arg)) {\n            var letters = arg.slice(1,-1).split('');\n            \n            var broken = false;\n            for (var j = 0; j < letters.length; j++) {\n                var next = arg.slice(j+2);\n                \n                if (next === '-') {\n                    setArg(letters[j], next, arg)\n                    continue;\n                }\n                \n                if (/[A-Za-z]/.test(letters[j]) && /=/.test(next)) {\n                    setArg(letters[j], next.split('=')[1], arg);\n                    broken = true;\n                    break;\n                }\n                \n                if (/[A-Za-z]/.test(letters[j])\n                && /-?\\d+(\\.\\d*)?(e-?\\d+)?$/.test(next)) {\n                    setArg(letters[j], next, arg);\n                    broken = true;\n                    break;\n                }\n                \n                if (letters[j+1] && letters[j+1].match(/\\W/)) {\n                    setArg(letters[j], arg.slice(j+2), arg);\n                    broken = true;\n                    break;\n                }\n                else {\n                    setArg(letters[j], flags.strings[letters[j]] ? '' : true, arg);\n                }\n            }\n            \n            var key = arg.slice(-1)[0];\n            if (!broken && key !== '-') {\n                if (args[i+1] && !/^(-|--)[^-]/.test(args[i+1])\n                && !flags.bools[key]\n                && (aliases[key] ? !aliasIsBoolean(key) : true)) {\n                    setArg(key, args[i+1], arg);\n                    i++;\n                }\n                else if (args[i+1] && /true|false/.test(args[i+1])) {\n                    setArg(key, args[i+1] === 'true', arg);\n                    i++;\n                }\n                else {\n                    setArg(key, flags.strings[key] ? '' : true, arg);\n                }\n            }\n        }\n        else {\n            if (!flags.unknownFn || flags.unknownFn(arg) !== false) {\n                argv._.push(\n                    flags.strings['_'] || !isNumber(arg) ? arg : Number(arg)\n                );\n            }\n            if (opts.stopEarly) {\n                argv._.push.apply(argv._, args.slice(i + 1));\n                break;\n            }\n        }\n    }\n    \n    Object.keys(defaults).forEach(function (key) {\n        if (!hasKey(argv, key.split('.'))) {\n            setKey(argv, key.split('.'), defaults[key]);\n            \n            (aliases[key] || []).forEach(function (x) {\n                setKey(argv, x.split('.'), defaults[key]);\n            });\n        }\n    });\n    \n    if (opts['--']) {\n        argv['--'] = new Array();\n        notFlags.forEach(function(key) {\n            argv['--'].push(key);\n        });\n    }\n    else {\n        notFlags.forEach(function(key) {\n            argv._.push(key);\n        });\n    }\n\n    return argv;\n};\n\nfunction hasKey (obj, keys) {\n    var o = obj;\n    keys.slice(0,-1).forEach(function (key) {\n        o = (o[key] || {});\n    });\n\n    var key = keys[keys.length - 1];\n    return key in o;\n}\n\nfunction isNumber (x) {\n    if (typeof x === 'number') return true;\n    if (/^0x[0-9a-f]+$/i.test(x)) return true;\n    return /^[-+]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(e[-+]?\\d+)?$/.test(x);\n}\n\n"]},"metadata":{},"sourceType":"script"}