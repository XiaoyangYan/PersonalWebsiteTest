{"ast":null,"code":"var core = require('./core');\n\nvar fs = require('fs');\n\nvar path = require('path');\n\nvar caller = require('./caller.js');\n\nvar nodeModulesPaths = require('./node-modules-paths.js');\n\nvar normalizeOptions = require('./normalize-options.js');\n\nvar defaultIsFile = function isFile(file) {\n  try {\n    var stat = fs.statSync(file);\n  } catch (e) {\n    if (e && (e.code === 'ENOENT' || e.code === 'ENOTDIR')) return false;\n    throw e;\n  }\n\n  return stat.isFile() || stat.isFIFO();\n};\n\nvar defaultIsDir = function isDirectory(dir) {\n  try {\n    var stat = fs.statSync(dir);\n  } catch (e) {\n    if (e && (e.code === 'ENOENT' || e.code === 'ENOTDIR')) return false;\n    throw e;\n  }\n\n  return stat.isDirectory();\n};\n\nvar maybeUnwrapSymlink = function maybeUnwrapSymlink(x, opts) {\n  if (opts && opts.preserveSymlinks === false) {\n    try {\n      return fs.realpathSync(x);\n    } catch (realPathErr) {\n      if (realPathErr.code !== 'ENOENT') {\n        throw realPathErr;\n      }\n    }\n  }\n\n  return x;\n};\n\nmodule.exports = function (x, options) {\n  if (typeof x !== 'string') {\n    throw new TypeError('Path must be a string.');\n  }\n\n  var opts = normalizeOptions(x, options);\n  var isFile = opts.isFile || defaultIsFile;\n  var readFileSync = opts.readFileSync || fs.readFileSync;\n  var isDirectory = opts.isDirectory || defaultIsDir;\n  var extensions = opts.extensions || ['.js'];\n  var basedir = opts.basedir || path.dirname(caller());\n  var parent = opts.filename || basedir;\n  opts.paths = opts.paths || []; // ensure that `basedir` is an absolute path at this point, resolving against the process' current working directory\n\n  var absoluteStart = maybeUnwrapSymlink(path.resolve(basedir), opts);\n\n  if (/^(?:\\.\\.?(?:\\/|$)|\\/|([A-Za-z]:)?[/\\\\])/.test(x)) {\n    var res = path.resolve(absoluteStart, x);\n    if (x === '..' || x.slice(-1) === '/') res += '/';\n    var m = loadAsFileSync(res) || loadAsDirectorySync(res);\n    if (m) return maybeUnwrapSymlink(m, opts);\n  } else if (core[x]) {\n    return x;\n  } else {\n    var n = loadNodeModulesSync(x, absoluteStart);\n    if (n) return maybeUnwrapSymlink(n, opts);\n  }\n\n  if (core[x]) return x;\n  var err = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n  err.code = 'MODULE_NOT_FOUND';\n  throw err;\n\n  function loadAsFileSync(x) {\n    var pkg = loadpkg(path.dirname(x));\n\n    if (pkg && pkg.dir && pkg.pkg && opts.pathFilter) {\n      var rfile = path.relative(pkg.dir, x);\n      var r = opts.pathFilter(pkg.pkg, x, rfile);\n\n      if (r) {\n        x = path.resolve(pkg.dir, r); // eslint-disable-line no-param-reassign\n      }\n    }\n\n    if (isFile(x)) {\n      return x;\n    }\n\n    for (var i = 0; i < extensions.length; i++) {\n      var file = x + extensions[i];\n\n      if (isFile(file)) {\n        return file;\n      }\n    }\n  }\n\n  function loadpkg(dir) {\n    if (dir === '' || dir === '/') return;\n\n    if (process.platform === 'win32' && /^\\w:[/\\\\]*$/.test(dir)) {\n      return;\n    }\n\n    if (/[/\\\\]node_modules[/\\\\]*$/.test(dir)) return;\n    var pkgfile = path.join(maybeUnwrapSymlink(dir, opts), 'package.json');\n\n    if (!isFile(pkgfile)) {\n      return loadpkg(path.dirname(dir));\n    }\n\n    var body = readFileSync(pkgfile);\n\n    try {\n      var pkg = JSON.parse(body);\n    } catch (jsonErr) {}\n\n    if (pkg && opts.packageFilter) {\n      pkg = opts.packageFilter(pkg, pkgfile, dir);\n    }\n\n    return {\n      pkg: pkg,\n      dir: dir\n    };\n  }\n\n  function loadAsDirectorySync(x) {\n    var pkgfile = path.join(maybeUnwrapSymlink(x, opts), '/package.json');\n\n    if (isFile(pkgfile)) {\n      try {\n        var body = readFileSync(pkgfile, 'UTF8');\n        var pkg = JSON.parse(body);\n      } catch (e) {}\n\n      if (pkg && opts.packageFilter) {\n        pkg = opts.packageFilter(pkg, pkgfile, x);\n      }\n\n      if (pkg && pkg.main) {\n        if (typeof pkg.main !== 'string') {\n          var mainError = new TypeError('package “' + pkg.name + '” `main` must be a string');\n          mainError.code = 'INVALID_PACKAGE_MAIN';\n          throw mainError;\n        }\n\n        if (pkg.main === '.' || pkg.main === './') {\n          pkg.main = 'index';\n        }\n\n        try {\n          var m = loadAsFileSync(path.resolve(x, pkg.main));\n          if (m) return m;\n          var n = loadAsDirectorySync(path.resolve(x, pkg.main));\n          if (n) return n;\n        } catch (e) {}\n      }\n    }\n\n    return loadAsFileSync(path.join(x, '/index'));\n  }\n\n  function loadNodeModulesSync(x, start) {\n    var dirs = nodeModulesPaths(start, opts, x);\n\n    for (var i = 0; i < dirs.length; i++) {\n      var dir = dirs[i];\n\n      if (isDirectory(dir)) {\n        var m = loadAsFileSync(path.join(dir, '/', x));\n        if (m) return m;\n        var n = loadAsDirectorySync(path.join(dir, '/', x));\n        if (n) return n;\n      }\n    }\n  }\n};","map":{"version":3,"sources":["/home/yanxiaoyang/react-project/PersonalWebsiteTest/node_modules/resolve/lib/sync.js"],"names":["core","require","fs","path","caller","nodeModulesPaths","normalizeOptions","defaultIsFile","isFile","file","stat","statSync","e","code","isFIFO","defaultIsDir","isDirectory","dir","maybeUnwrapSymlink","x","opts","preserveSymlinks","realpathSync","realPathErr","module","exports","options","TypeError","readFileSync","extensions","basedir","dirname","parent","filename","paths","absoluteStart","resolve","test","res","slice","m","loadAsFileSync","loadAsDirectorySync","n","loadNodeModulesSync","err","Error","pkg","loadpkg","pathFilter","rfile","relative","r","i","length","process","platform","pkgfile","join","body","JSON","parse","jsonErr","packageFilter","main","mainError","name","start","dirs"],"mappings":"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","sourcesContent":["var core = require('./core');\nvar fs = require('fs');\nvar path = require('path');\nvar caller = require('./caller.js');\nvar nodeModulesPaths = require('./node-modules-paths.js');\nvar normalizeOptions = require('./normalize-options.js');\n\nvar defaultIsFile = function isFile(file) {\n    try {\n        var stat = fs.statSync(file);\n    } catch (e) {\n        if (e && (e.code === 'ENOENT' || e.code === 'ENOTDIR')) return false;\n        throw e;\n    }\n    return stat.isFile() || stat.isFIFO();\n};\n\nvar defaultIsDir = function isDirectory(dir) {\n    try {\n        var stat = fs.statSync(dir);\n    } catch (e) {\n        if (e && (e.code === 'ENOENT' || e.code === 'ENOTDIR')) return false;\n        throw e;\n    }\n    return stat.isDirectory();\n};\n\nvar maybeUnwrapSymlink = function maybeUnwrapSymlink(x, opts) {\n    if (opts && opts.preserveSymlinks === false) {\n        try {\n            return fs.realpathSync(x);\n        } catch (realPathErr) {\n            if (realPathErr.code !== 'ENOENT') {\n                throw realPathErr;\n            }\n        }\n    }\n    return x;\n};\n\nmodule.exports = function (x, options) {\n    if (typeof x !== 'string') {\n        throw new TypeError('Path must be a string.');\n    }\n    var opts = normalizeOptions(x, options);\n\n    var isFile = opts.isFile || defaultIsFile;\n    var readFileSync = opts.readFileSync || fs.readFileSync;\n    var isDirectory = opts.isDirectory || defaultIsDir;\n\n    var extensions = opts.extensions || ['.js'];\n    var basedir = opts.basedir || path.dirname(caller());\n    var parent = opts.filename || basedir;\n\n    opts.paths = opts.paths || [];\n\n    // ensure that `basedir` is an absolute path at this point, resolving against the process' current working directory\n    var absoluteStart = maybeUnwrapSymlink(path.resolve(basedir), opts);\n\n    if ((/^(?:\\.\\.?(?:\\/|$)|\\/|([A-Za-z]:)?[/\\\\])/).test(x)) {\n        var res = path.resolve(absoluteStart, x);\n        if (x === '..' || x.slice(-1) === '/') res += '/';\n        var m = loadAsFileSync(res) || loadAsDirectorySync(res);\n        if (m) return maybeUnwrapSymlink(m, opts);\n    } else if (core[x]) {\n        return x;\n    } else {\n        var n = loadNodeModulesSync(x, absoluteStart);\n        if (n) return maybeUnwrapSymlink(n, opts);\n    }\n\n    if (core[x]) return x;\n\n    var err = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n\n    function loadAsFileSync(x) {\n        var pkg = loadpkg(path.dirname(x));\n\n        if (pkg && pkg.dir && pkg.pkg && opts.pathFilter) {\n            var rfile = path.relative(pkg.dir, x);\n            var r = opts.pathFilter(pkg.pkg, x, rfile);\n            if (r) {\n                x = path.resolve(pkg.dir, r); // eslint-disable-line no-param-reassign\n            }\n        }\n\n        if (isFile(x)) {\n            return x;\n        }\n\n        for (var i = 0; i < extensions.length; i++) {\n            var file = x + extensions[i];\n            if (isFile(file)) {\n                return file;\n            }\n        }\n    }\n\n    function loadpkg(dir) {\n        if (dir === '' || dir === '/') return;\n        if (process.platform === 'win32' && (/^\\w:[/\\\\]*$/).test(dir)) {\n            return;\n        }\n        if ((/[/\\\\]node_modules[/\\\\]*$/).test(dir)) return;\n\n        var pkgfile = path.join(maybeUnwrapSymlink(dir, opts), 'package.json');\n\n        if (!isFile(pkgfile)) {\n            return loadpkg(path.dirname(dir));\n        }\n\n        var body = readFileSync(pkgfile);\n\n        try {\n            var pkg = JSON.parse(body);\n        } catch (jsonErr) {}\n\n        if (pkg && opts.packageFilter) {\n            pkg = opts.packageFilter(pkg, pkgfile, dir);\n        }\n\n        return { pkg: pkg, dir: dir };\n    }\n\n    function loadAsDirectorySync(x) {\n        var pkgfile = path.join(maybeUnwrapSymlink(x, opts), '/package.json');\n        if (isFile(pkgfile)) {\n            try {\n                var body = readFileSync(pkgfile, 'UTF8');\n                var pkg = JSON.parse(body);\n            } catch (e) {}\n\n            if (pkg && opts.packageFilter) {\n                pkg = opts.packageFilter(pkg, pkgfile, x);\n            }\n\n            if (pkg && pkg.main) {\n                if (typeof pkg.main !== 'string') {\n                    var mainError = new TypeError('package “' + pkg.name + '” `main` must be a string');\n                    mainError.code = 'INVALID_PACKAGE_MAIN';\n                    throw mainError;\n                }\n                if (pkg.main === '.' || pkg.main === './') {\n                    pkg.main = 'index';\n                }\n                try {\n                    var m = loadAsFileSync(path.resolve(x, pkg.main));\n                    if (m) return m;\n                    var n = loadAsDirectorySync(path.resolve(x, pkg.main));\n                    if (n) return n;\n                } catch (e) {}\n            }\n        }\n\n        return loadAsFileSync(path.join(x, '/index'));\n    }\n\n    function loadNodeModulesSync(x, start) {\n        var dirs = nodeModulesPaths(start, opts, x);\n        for (var i = 0; i < dirs.length; i++) {\n            var dir = dirs[i];\n            if (isDirectory(dir)) {\n                var m = loadAsFileSync(path.join(dir, '/', x));\n                if (m) return m;\n                var n = loadAsDirectorySync(path.join(dir, '/', x));\n                if (n) return n;\n            }\n        }\n    }\n};\n"]},"metadata":{},"sourceType":"script"}