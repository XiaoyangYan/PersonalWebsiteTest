{"ast":null,"code":"var PassThrough = require('readable-stream').PassThrough;\n\nvar Readable = require('readable-stream').Readable;\n\nvar duplexer = require('duplexer2');\n\nmodule.exports = function () {\n  var streams;\n\n  if (arguments.length == 1 && Array.isArray(arguments[0])) {\n    streams = arguments[0];\n  } else {\n    streams = [].slice.call(arguments);\n  }\n\n  return combine(streams);\n};\n\nmodule.exports.obj = function () {\n  var streams;\n\n  if (arguments.length == 1 && Array.isArray(arguments[0])) {\n    streams = arguments[0];\n  } else {\n    streams = [].slice.call(arguments);\n  }\n\n  return combine(streams, {\n    objectMode: true\n  });\n};\n\nfunction combine(streams, opts) {\n  for (var i = 0; i < streams.length; i++) streams[i] = wrap(streams[i], opts);\n\n  if (streams.length == 0) return new PassThrough(opts);else if (streams.length == 1) return streams[0];\n  var first = streams[0],\n      last = streams[streams.length - 1],\n      thepipe = duplexer(opts, first, last); //pipe all the streams together\n\n  function recurse(streams) {\n    if (streams.length < 2) return;\n    streams[0].pipe(streams[1]);\n    recurse(streams.slice(1));\n  }\n\n  recurse(streams);\n\n  function onerror() {\n    var args = [].slice.call(arguments);\n    args.unshift('error');\n    thepipe.emit.apply(thepipe, args);\n  } //es.duplex already reemits the error from the first and last stream.\n  //add a listener for the inner streams in the pipeline.\n\n\n  for (var i = 1; i < streams.length - 1; i++) streams[i].on('error', onerror);\n\n  return thepipe;\n}\n\nfunction wrap(tr, opts) {\n  if (typeof tr.read === 'function') return tr;\n  return new Readable(opts).wrap(tr);\n}","map":{"version":3,"sources":["/home/yanxiaoyang/react-project/PersonalWebsiteTest/node_modules/stream-combiner2/index.js"],"names":["PassThrough","require","Readable","duplexer","module","exports","streams","arguments","length","Array","isArray","slice","call","combine","obj","objectMode","opts","i","wrap","first","last","thepipe","recurse","pipe","onerror","args","unshift","emit","apply","on","tr","read"],"mappings":"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","sourcesContent":["var PassThrough = require('readable-stream').PassThrough\nvar Readable = require('readable-stream').Readable\nvar duplexer = require('duplexer2')\n\nmodule.exports = function () {\n  var streams\n  if(arguments.length == 1 && Array.isArray(arguments[0])) {\n    streams = arguments[0]\n  } else {\n    streams = [].slice.call(arguments)\n  }\n  return combine(streams)\n}\n\nmodule.exports.obj = function () {\n  var streams\n  if(arguments.length == 1 && Array.isArray(arguments[0])) {\n    streams = arguments[0]\n  } else {\n    streams = [].slice.call(arguments)\n  }\n  return combine(streams, { objectMode: true })\n}\n\n  \nfunction combine (streams, opts) {\n\n  for (var i = 0; i < streams.length; i++)\n    streams[i] = wrap(streams[i], opts)\n\n  if(streams.length == 0)\n    return new PassThrough(opts)\n  else if(streams.length == 1)\n    return streams[0]\n\n  var first = streams[0]\n    , last = streams[streams.length - 1]\n    , thepipe = duplexer(opts, first, last)\n\n  //pipe all the streams together\n\n  function recurse (streams) {\n    if(streams.length < 2)\n      return\n    streams[0].pipe(streams[1])\n    recurse(streams.slice(1))\n  }\n\n  recurse(streams)\n\n  function onerror () {\n    var args = [].slice.call(arguments)\n    args.unshift('error')\n    thepipe.emit.apply(thepipe, args)\n  }\n\n  //es.duplex already reemits the error from the first and last stream.\n  //add a listener for the inner streams in the pipeline.\n  for(var i = 1; i < streams.length - 1; i ++)\n    streams[i].on('error', onerror)\n\n  return thepipe\n}\n\nfunction wrap (tr, opts) {\n  if (typeof tr.read === 'function') return tr\n  return new Readable(opts).wrap(tr)\n}\n"]},"metadata":{},"sourceType":"script"}