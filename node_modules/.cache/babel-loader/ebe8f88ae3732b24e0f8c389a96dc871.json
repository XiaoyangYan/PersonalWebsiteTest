{"ast":null,"code":"var clone = require('./clone'),\n    key = require('./key'),\n    by = require('./by'),\n    is = require('./is');\n\nmodule.exports = function join(left, right) {\n  if (arguments.length == 1) {\n    right = left;\n    left = null;\n  }\n\n  return function (d, uid) {\n    if (d === null || d === undefined) return undefined;\n    var table = right || [],\n        field = null;\n    if (!uid || is.num(uid)) uid = 'id';\n\n    if (is.str(right)) {\n      var array = right.split('.');\n      table = ripple(array.shift());\n      field = array.join('.');\n    }\n\n    var id = key(left)(d),\n        val = table.filter(by(uid, id)).map(key(field)).pop() || {};\n    return left ? key(left, val)(d) : val;\n  };\n};","map":{"version":3,"sources":["/home/yanxiaoyang/react-project/PersonalWebsiteTest/node_modules/utilise/join.js"],"names":["clone","require","key","by","is","module","exports","join","left","right","arguments","length","d","uid","undefined","table","field","num","str","array","split","ripple","shift","id","val","filter","map","pop"],"mappings":"AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,SAAD,CAAnB;AAAA,IACIC,GAAG,GAAGD,OAAO,CAAC,OAAD,CADjB;AAAA,IAEIE,EAAE,GAAGF,OAAO,CAAC,MAAD,CAFhB;AAAA,IAGIG,EAAE,GAAGH,OAAO,CAAC,MAAD,CAHhB;;AAKAI,MAAM,CAACC,OAAP,GAAiB,SAASC,IAAT,CAAcC,IAAd,EAAoBC,KAApB,EAA0B;AACzC,MAAIC,SAAS,CAACC,MAAV,IAAoB,CAAxB,EAA2B;AACzBF,IAAAA,KAAK,GAAGD,IAAR;AACAA,IAAAA,IAAI,GAAG,IAAP;AACD;;AAED,SAAO,UAASI,CAAT,EAAYC,GAAZ,EAAgB;AACrB,QAAID,CAAC,KAAK,IAAN,IAAcA,CAAC,KAAKE,SAAxB,EAAmC,OAAOA,SAAP;AACnC,QAAIC,KAAK,GAAGN,KAAK,IAAI,EAArB;AAAA,QAAyBO,KAAK,GAAG,IAAjC;AACA,QAAI,CAACH,GAAD,IAAQT,EAAE,CAACa,GAAH,CAAOJ,GAAP,CAAZ,EAAyBA,GAAG,GAAG,IAAN;;AACzB,QAAIT,EAAE,CAACc,GAAH,CAAOT,KAAP,CAAJ,EAAmB;AACjB,UAAIU,KAAK,GAAGV,KAAK,CAACW,KAAN,CAAY,GAAZ,CAAZ;AACAL,MAAAA,KAAK,GAAGM,MAAM,CAACF,KAAK,CAACG,KAAN,EAAD,CAAd;AACAN,MAAAA,KAAK,GAAGG,KAAK,CAACZ,IAAN,CAAW,GAAX,CAAR;AACD;;AAED,QAAIgB,EAAE,GAAIrB,GAAG,CAACM,IAAD,CAAH,CAAUI,CAAV,CAAV;AAAA,QACIY,GAAG,GAAGT,KAAK,CACFU,MADH,CACUtB,EAAE,CAACU,GAAD,EAAMU,EAAN,CADZ,EAEGG,GAFH,CAEOxB,GAAG,CAACc,KAAD,CAFV,EAGGW,GAHH,MAGY,EAJtB;AAMA,WAAOnB,IAAI,GACPN,GAAG,CAACM,IAAD,EAAOgB,GAAP,CAAH,CAAeZ,CAAf,CADO,GAEPY,GAFJ;AAGD,GAnBD;AAoBD,CA1BD","sourcesContent":["var clone = require('./clone')\r\n  , key = require('./key')\r\n  , by = require('./by')\r\n  , is = require('./is')\r\n\r\nmodule.exports = function join(left, right){\r\n  if (arguments.length == 1) {\r\n    right = left\r\n    left = null\r\n  }\r\n\r\n  return function(d, uid){\r\n    if (d === null || d === undefined) return undefined\r\n    var table = right || [], field = null\r\n    if (!uid || is.num(uid)) uid = 'id'\r\n    if (is.str(right)) {\r\n      var array = right.split('.')\r\n      table = ripple(array.shift())\r\n      field = array.join('.')\r\n    }\r\n    \r\n    var id  = key(left)(d)\r\n      , val = table\r\n                .filter(by(uid, id))\r\n                .map(key(field))\r\n                .pop() || {}\r\n\r\n    return left \r\n      ? key(left, val)(d) \r\n      : val\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"script"}